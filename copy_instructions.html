<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Copy-ready PowerShell Blocks</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin: 20px; background:#f6f8fa; color:#0b1220; }
    .container { max-width:980px; margin:0 auto; }
    .box { position: relative; background: #fff; border: 1px solid #e1e4e8; border-radius: 8px; padding: 16px; margin: 18px 0; box-shadow: 0 1px 2px rgba(16,24,40,0.03); }
    .box h3 { margin: 0 0 8px 0; font-size: 15px; }
    pre { margin: 0; background: #f7f8fa; padding: 12px; border-radius: 6px; overflow:auto; font-size: 13px; line-height:1.4; }
    .copy-btn { position: absolute; top: 12px; right: 12px; padding: 6px 8px; border-radius: 6px; border: none; background: #0366d6; color: white; cursor: pointer; font-size: 12px; }
    .copy-btn.copied { background: #28a745; }
    .note { font-size:12px; color:#555; margin-top:8px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Copy-ready PowerShell Checks</h2>

    <div class="box">
      <h3>1) Show the backend folder contents</h3>
      <button class="copy-btn" data-target="cmd1">Copy</button>
      <pre id="cmd1">Get-ChildItem -Path .\backend -Recurse -File | Select-Object FullName,Name,Length,LastWriteTime</pre>
      <div class="note">Run from repo root with venv activated.</div>
    </div>

    <div class="box">
      <h3>2) Look specifically for any main.py</h3>
      <button class="copy-btn" data-target="cmd2">Copy</button>
      <pre id="cmd2">Get-ChildItem -Path . -Recurse -Filter main.py -ErrorAction SilentlyContinue | Select-Object FullName</pre>
      <div class="note">Finds any main.py in the repo.</div>
    </div>

    <div class="box">
      <h3>3) Search Python files for likely entrypoint keywords</h3>
      <button class="copy-btn" data-target="cmd3">Copy</button>
      <pre id="cmd3">Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'FastAPI' -SimpleMatch | Select Path,LineNumber,Line -First 200
Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'Flask(' -SimpleMatch | Select Path,LineNumber,Line -First 200
Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'uvicorn' -SimpleMatch | Select Path,LineNumber,Line -First 200
Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'app = FastAPI' -SimpleMatch | Select Path,LineNumber,Line -First 200
Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'application =' -SimpleMatch | Select Path,LineNumber,Line -First 200
Get-ChildItem -Path . -Recurse -Include *.py -ErrorAction SilentlyContinue | Select-String -Pattern 'if __name__ == \"__main__\"' -SimpleMatch | Select Path,LineNumber,Line -First 200</pre>
      <div class="note">Runs several simple searches (each line can be run individually).</div>
    </div>

    <div class="box">
      <h3>4) Quick sanity check (cwd + venv python)</h3>
      <button class="copy-btn" data-target="cmd4">Copy</button>
      <pre id="cmd4">Get-Location
& .\backend\venv\Scripts\python.exe -c "import sys,os; print('python=',sys.executable); print('cwd=',os.getcwd()); print('sys.path[0]=',sys.path[0])"</pre>
      <div class="note">Confirms where Python is running from and current working directory.</div>
    </div>

    <div class="box">
      <h3>Usage note</h3>
      <div class="note">Open this file in a browser, click the copy button for the block you want, paste into PowerShell, and run. If you want I can also add a one‑click "Run" helper PowerShell script — tell me if you'd like that.</div>
    </div>

  </div>

  <script>
    function copyText(id, btn) {
      const el = document.getElementById(id);
      if (!el) return;
      const text = el.innerText;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(function() {
          btn.classList.add('copied');
          btn.textContent = 'Copied';
          setTimeout(() => { btn.classList.remove('copied'); btn.textContent = 'Copy'; }, 1500);
        });
      } else {
        // fallback
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        try { document.execCommand('copy'); btn.classList.add('copied'); btn.textContent = 'Copied'; } catch(e) { alert('Copy failed — select and copy manually'); }
        document.body.removeChild(ta);
        setTimeout(() => { btn.classList.remove('copied'); btn.textContent = 'Copy'; }, 1500);
      }
    }

    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.getAttribute('data-target');
        copyText(target, btn);
      });
    });
  </script>
</body>
</html>
